/*! jQuery Loading Progress - v1.0.1 - 2013-09-13 09:43
* https://github.com/DeuxHuitHuit/jQuery-loading-progress
* Copyright (c) 2013 Deux Huit Huit; Licensed MIT */
(function(e,t){"use strict";e.loadProgress={defaults:{load:null,global:!1,total:0,count:0,percent:0,debug:!1,fakeIncTimeout:1e3}};var n=function(t){if(!this.length||!this.each)return this;var n=e(this),r=e.extend({},e.loadProgress.defaults,e.isFunction(t)?{load:t}:t),i=function(){r.percent=Math.min(100,~~(r.count/r.total*100)||0)},s=function(){c(),!!r.debug&&!!window.console&&console.log("window loaded at 100%, "+r.count+"/"+r.total),r.percent=100,r.global=!0,e.isFunction(r.load)&&r.load.call(n,r)},o=function(){var t=e(this),n=t.attr("src")||t.attr("data-src");c(),r.count++,r.global||(i(),!!r.debug&&!!window.console&&console.log(r.count+"/"+r.total+" "+n),e.isFunction(r.load)&&r.load.call(t,r),l())},u=function(t){var n=[];t.each(function(t,r){var i=e(r),s=i.attr("src")||i.attr("data-src");!!s&&!~e.inArray(s,n)&&(n.push(s),i.load(o))}),r.total=n.length},a=0,f=function(){if(!!r.global)return;r.count+=~~(Math.random()*1e4)%3+1,i(),!!r.debug&&!!window.console&&console.log(r.count+"/"+r.total+" *FAKE*"),e.isFunction(r.load)&&r.load.call(n,r),l()},l=function(){!!r.fakeIncTimeout&&!r.global&&!a&&(a=setTimeout(f,r.fakeIncTimeout))},c=function(){!a||(clearTimeout(a),a=0)};return u(n),e(window).load(s),l(),n};e.fn.extend({loadProgress:n})})(jQuery);